{{ define "main" }}
<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode }}">
  {{ partial "head.html" . }}
  <body>
    {{ partial "header.html" . }}

    <main class="main-content">
      <article class="single-article">
        <h1>{{ .Title }}</h1>
        
        {{ $paragraphs := split .Content "\n\n" }}
        {{ range $index, $paragraph := $paragraphs }}
          {{ if ne (trim $paragraph " ") "" }}
            <div class="single-paragraph-block {{ if modBool $index 2 }}reverse{{ end }}">
              <div class="single-text-content">
                {{ $paragraph | markdownify }}
              </div>
              {{ if .Params.images }}
                <div class="single-image-content">
                  <img src="{{ index .Params.images (mod $index (len .Params.images)) }}" 
                       alt="About image {{ add $index 1 }}"
                       class="single-paragraph-image">
                </div>
              {{ end }}
            </div>
          {{ end }}
        {{ end }}
      </article>
    </main>

    {{ partial "footer.html" . }}
  </body>
</html>
{{ end }}